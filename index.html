<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETH Sentinel v6.9.1 - Risk Focused</title>
    <style>
        :root { --primary: #38bdf8; --bg: #0f172a; --card: #1e293b; --text: #f8fafc; --low: #4ade80; --mid: #facc15; --high: #f87171; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: var(--text); padding: 10px; display: flex; justify-content: center; }
        .card { background: var(--card); padding: 20px; border-radius: 16px; width: 100%; max-width: 500px; box-shadow: 0 10px 25px rgba(0,0,0,0.3); }
        .tabs { display: flex; gap: 5px; margin-bottom: 15px; background: #0f172a; padding: 5px; border-radius: 10px; }
        .tab-btn { flex: 1; padding: 10px; border: none; border-radius: 8px; background: none; color: #94a3b8; cursor: pointer; font-weight: bold; font-size: 0.8em; }
        .tab-btn.active { background: var(--primary); color: var(--bg); }
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        .btn-sync { width: 100%; background: var(--primary); color: var(--bg); border: none; padding: 12px; border-radius: 8px; font-weight: bold; cursor: pointer; margin-bottom: 10px; }
        .trend-indicator { padding: 8px; border-radius: 8px; text-align: center; font-size: 0.8em; font-weight: bold; margin-bottom: 15px; border: 2px solid #475569; }
        .row { display: flex; gap: 10px; margin-bottom: 10px; }
        .col { flex: 1; }
        label { display: block; font-size: 0.75em; color: #94a3b8; margin-bottom: 4px; }
        input { width: 100%; padding: 8px; border-radius: 6px; border: 1px solid #475569; background: var(--bg); color: #fff; box-sizing: border-box; }
        .slider-container { background: #334155; padding: 12px; border-radius: 10px; margin-bottom: 15px; }
        input[type="range"] { width: 100%; accent-color: var(--primary); }
        .result-box { margin-top: 15px; padding: 15px; border-radius: 10px; background: #334155; border-left: 5px solid var(--primary); }
        .highlight { color: var(--primary); font-weight: bold; font-size: 1.4em; display: block; }
        .badge { display: block; padding: 10px; border-radius: 8px; text-align: center; font-weight: bold; margin-top: 12px; }
        .stat-line { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.9em; }
    </style>
</head>
<body>

<div class="card">
    <div class="tabs">
        <button class="tab-btn active" onclick="openTab('algo')">ALGORITMO</button>
        <button class="tab-btn" onclick="openTab('dual')">DUAL ANALYST</button>
    </div>

    <button class="btn-sync" onclick="fetchMarket()">ðŸ”„ SINCRONIZAR MERCADO</button>
    <div id="trendLabel" class="trend-indicator">Esperando SincronizaciÃ³n...</div>

    <div id="algo" class="tab-content active">
        <div class="row">
            <div class="col"><label>Spot ETH</label><input type="number" id="spot" class="sync-s" oninput="syncInputs(this, 's')"></div>
            <div class="col"><label>EMA 20 (4H)</label><input type="number" id="ema" oninput="calc()"></div>
        </div>

        <div class="slider-container">
            <div style="display:flex; justify-content: space-between; margin-bottom: 5px;">
                <span style="font-size:0.75em; color:#94a3b8;">Diario: <b id="valD">25%</b></span>
                <span style="font-size:0.75em; color:#94a3b8;">Semanal: <b id="valW">75%</b></span>
            </div>
            <input type="range" id="pSlider" min="0" max="100" value="75" oninput="updateSlider(this.value)">
        </div>

        <div class="row">
            <div class="col"><label>DTE (DÃ­as)</label><input type="number" id="dte" class="sync-d" value="2" oninput="syncInputs(this, 'd')"></div>
            <div class="col"><label>Base Z-Score</label><input type="number" id="zBase" value="2.0" step="0.1" oninput="calc()"></div>
        </div>

        <div class="row">
            <div class="col"><label>IV D %</label><input type="number" id="ivd" value="45" oninput="calc()"></div>
            <div class="col"><label>IV W %</label><input type="number" id="ivw" value="55" oninput="calc()"></div>
        </div>
        
        <div style="background: #1e293b; padding: 10px; border-radius: 8px;">
             <input type="checkbox" id="autoATR"
